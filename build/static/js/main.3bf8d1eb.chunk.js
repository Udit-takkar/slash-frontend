(this.webpackJsonpslash=this.webpackJsonpslash||[]).push([[0],{163:function(e,t,a){e.exports=a(307)},307:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),s=a(5),c=a.n(s),l=a(15),r=a(16),i=a(17),u=a(18),m=a(29),d=a(10),h=(a(66),a(6)),p=a.n(h),g=a(19),f=a.n(g),v="https://slashco.herokuapp.com",b=a(311),E=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){n.setState({currentUser:p.a.auth().currentUser}),f.a.post("".concat(v,"/getdocs")).then((function(e){console.log(e.data),n.setState({docs:e.data})})).catch((function(e){console.log(e)}))},n.componentWillMount=function(){f.a.post("".concat(v,"/getuser"),{userkey:p.a.auth().currentUser.uid}).then((function(e){console.log(e),n.setState({user:e.data})})).catch((function(e){console.log(e)}))},n.upvoteUser=function(e){f.a.put("".concat(v,"/upvoteuser"),{userkey:e.userkey}).then((function(t){console.log(t),b.a.success("You just upvoted ".concat(e.developer,"!"))})).catch((function(e){console.log(e)}))},n.readMore=function(e){console.log("Routing!")},n.state={currentUser:"",user:"",docs:[]},n}return Object(r.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"main container"},o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"column right"},o.a.createElement("img",{className:"profile-image",src:this.state.currentUser.photoURL}),o.a.createElement("h5",{className:"pt-3"},"\ud83d\udc4b Hi, ",this.state.currentUser.displayName,"! (",this.state.currentUser.email," \u2709\ufe0f)"),o.a.createElement("p",null,"You got ",o.a.createElement("span",{className:"font-weight-bold"},this.state.user.upvote," upvotes")," \ud83d\ude00 by some awesome devs."),o.a.createElement("div",{className:"pt-3"},o.a.createElement("button",{className:"write-btn"},o.a.createElement(m.b,{className:"text-dark",to:"/write"},"Write \ud83d\udd8a\ufe0f")),o.a.createElement("button",{className:"out-btn",onClick:function(){return p.a.auth().signOut()}},"Log Out \ud83d\ude31")),o.a.createElement("div",{className:"pt-3",style:{listStyleType:"none"}},o.a.createElement("li",null,"\ud83d\udcac Telegram"),o.a.createElement("li",null,"\ud83d\udcf1 Instagram"),o.a.createElement("li",null,"\ud83d\udcfa Youtube"),o.a.createElement("li",null,"\ud83c\udf99\ufe0f Podcast"))),o.a.createElement("div",{className:"column left"},o.a.createElement("h2",{className:"posts"},"POSTS"),this.state.docs.map((function(t,a){return o.a.createElement("div",{className:""},o.a.createElement("img",{src:t.image,width:"200",className:"pt-3",alt:""}),o.a.createElement("h5",null,t.title),o.a.createElement("p",null,o.a.createElement(m.b,{to:"/doc/"+t.dockey},"\ud83d\udd16 READ")),o.a.createElement("p",null,o.a.createElement("a",{className:"font-weight-bold",onClick:function(){return e.upvoteUser(t)}},"\ud83d\udc9a UPVOTE")),o.a.createElement("p",null,t.developer))})))))}}]),a}(n.Component),y=(a(216),a(313)),S=a(314),k=a(308),O=a(75),U=a.n(O),N=(a(225),S.a.TextArea);p.a.initializeApp({apiKey:"AIzaSyB2WgmeobKRIT89pYqYhTxF3r3ueOW0sJU",authDomain:"slash-co.firebaseapp.com",databaseURL:"https://slash-co.firebaseio.com",projectId:"slash-co",storageBucket:"slash-co.appspot.com",appId:"1:340164452942:web:f4f1ada4259b43eed8591f"});p.a.storage();var C=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={isSignedIn:!1,userkey:"",email:"",name:"",userdata:[],bio:"",locading:!1},e.uiConfig={signInFlow:"popup",signInOptions:[p.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){e.setState({userkey:p.a.auth().currentUser.uid,email:p.a.auth().currentUser.email,name:p.a.auth().currentUser.displayName}),f.a.post("".concat(v,"/adduser"),e.state).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}}},e.bioChange=function(t){e.setState({bio:t.target.value})},e.bioSubmit=function(t){t.preventDefault(),f.a.put("".concat(v,"/edituser"),e.state).then((function(t){console.log(t),e.bioSaved()})).catch((function(e){console.log(e)}))},e.bioSaved=function(){b.a.loading({content:"Saving Bio...",key:"updatable"}),setTimeout((function(){b.a.success({content:"Bio Saved!",key:"updatable",duration:10})}),1e3)},e.bioCancelled=function(e){b.a.warn({content:"Bio unsaved!",key:"updatable",duration:10})},e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({locading:!0}),this.unregisterAuthObserver=p.a.auth().onAuthStateChanged((function(t){return e.setState({isSignedIn:!!t})}));var t=p.a.auth().currentUser.uid;console.log(t),console.log(this.state.userkey),f.a.post("".concat(v,"/getuser"),{userkey:t}).then((function(t){console.log(t.data),e.setState({userdata:t.data,loading:!1})})).catch((function(e){console.log(e)}))}},{key:"componentWillUnmount",value:function(){this.unregisterAuthObserver()}},{key:"render",value:function(){return this.state.isSignedIn?o.a.createElement("div",{className:"account-signedin"},o.a.createElement("img",{className:"account-photo",src:p.a.auth().currentUser.photoURL}),o.a.createElement("div",{className:"pt-3"},this.state.loading?o.a.createElement(k.a,null):o.a.createElement("div",null,o.a.createElement("p",null,"\u2795 UPVOTEs - ",o.a.createElement("span",{className:"font-weight-bold"},this.state.userdata.upvote)),o.a.createElement(N,{rows:"4",id:"bio",name:"bio",placeholder:"Your bio",onChange:this.bioChange}),o.a.createElement("a",{onClick:this.bioSubmit},"\u2705")," ",o.a.createElement("a",{onClick:this.bioCancelled}," \u274c")))):o.a.createElement("div",null,o.a.createElement(U.a,{uiConfig:this.uiConfig,firebaseAuth:p.a.auth()}))}}]),a}(o.a.Component),j=a(309),w=a(312),I=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={visible:!1},e.showModal=function(){e.setState({visible:!0})},e.handleOk=function(t){console.log(t),e.setState({visible:!1})},e.handleCancel=function(t){console.log(t),e.setState({visible:!1})},e}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("a",{onClick:this.showModal},o.a.createElement(j.a,{shape:"square",size:"large",icon:o.a.createElement(w.a,null)})),o.a.createElement(y.a,{title:"\ud83d\udd12",okButtonProps:{style:{backgroundColor:"#000000",border:"none"}},visible:this.state.visible,onOk:this.handleOk,onCancel:this.handleCancel},o.a.createElement(C,null)))}}]),a}(o.a.Component),A=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("nav",{className:"navbar navbar-expand-sm navbar-light"},o.a.createElement(m.b,{to:"/"},o.a.createElement("img",{className:"navbar-brand",alt:"",src:"https://firebasestorage.googleapis.com/v0/b/digvijay-web.appspot.com/o/slash.png?alt=media&token=8728f9f0-ef77-494f-ae33-00e2dab9565b"})),o.a.createElement("div",{className:"ml-auto"},o.a.createElement("ul",{className:"navbar-nav ml-auto"},o.a.createElement("li",{className:"nav-item"},o.a.createElement(I,null))))))}}]),a}(n.Component),R=a(149),P=a(310),D=a(315),T=a(150),x=a.n(T),W=(P.a.Dragger,S.a.TextArea),M=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={image:"",isUploading:!1,progress:0,imageURL:"",title:"",developer:"",body:"",userkey:"",posting:!1,posted:!1},e.componentDidMount=function(){var t=p.a.auth().currentUser;e.setState({developer:t.displayName,userkey:t.uid})},e.handleChangeUsername=function(t){return e.setState({username:t.target.value})},e.handleUploadStart=function(){return e.setState({isUploading:!0,progress:0})},e.handleProgress=function(t){return e.setState({progress:t})},e.handleUploadError=function(t){e.setState({isUploading:!1}),console.error(t)},e.handleUploadSuccess=function(t){e.setState({image:t,progress:100,isUploading:!1}),p.a.storage().ref("images").child(t).getDownloadURL().then((function(t){return e.setState({imageURL:t})}))},e.handlePost=function(t){t.preventDefault(),e.setState({posting:!0}),f.a.post("".concat(v,"/adddoc"),{title:e.state.title,body:e.state.body,image:e.state.imageURL,developer:e.state.developer,userkey:e.state.userkey}).then((function(t){console.log(t),e.setState({posting:!1,posted:!0})})).catch((function(e){console.log(e)}))},e.onChange=function(t){e.setState(Object(R.a)({},t.target.id,t.target.value))},e.success=function(){b.a.success("Posted a new doc!")},e}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"write"},this.state.posting?o.a.createElement(k.a,null):o.a.createElement("div",null),this.state.posted?o.a.createElement("div",null,o.a.createElement(D.a,{status:"success",title:"New doc posted!",subTitle:"Quick Tip: Keep an eye on your posts and engage with people in the comments."})):o.a.createElement("div",null),o.a.createElement("h5",null,o.a.createElement(m.b,{to:"/"},"\u274c")),o.a.createElement(W,{id:"title",onChange:this.onChange,style:{fontSize:20,fontWeight:"bold"},placeholder:"Title Goes Here!"}),o.a.createElement("div",{style:{margin:"24px 0"}}),o.a.createElement(W,{id:"body",onChange:this.onChange,placeholder:"What you are upto today?",autoSize:{minRows:10,maxRows:50}}),o.a.createElement("form",{className:"pt-4"},this.state.isUploading&&o.a.createElement("div",{className:"text-center"},o.a.createElement(k.a,null)),o.a.createElement(x.a,{accept:"image/*",name:"avatar",randomizeFilename:!0,storageRef:p.a.storage().ref("images"),onUploadStart:this.handleUploadStart,onUploadError:this.handleUploadError,onUploadSuccess:this.handleUploadSuccess,onProgress:this.handleProgress})),o.a.createElement("button",{className:"mt-3",onClick:this.handlePost},"POST"))}}]),a}(n.Component),B=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).componentDidMount=function(){f.a.post("".concat(v,"/docbyid"),{dockey:n.props.match.params.doc}).then((function(e){n.setState({doc:e.data})})).catch((function(e){console.log(e)}))},n.state={path:"",doc:[]},n}return Object(r.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"doc"},o.a.createElement(m.b,{to:"/"},o.a.createElement("p",null,"\u2b05\ufe0f BROWSE")),o.a.createElement("h1",{className:"doc-title"},this.state.doc.title),o.a.createElement("h5",null,this.state.doc.developer),o.a.createElement("div",{className:"text-center"},o.a.createElement("img",{src:this.state.doc.image,className:"doc-image",alt:""})),o.a.createElement("p",null,this.state.doc.body))}}]),a}(n.Component),L=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))).state={isSignedIn:!1,user:""},e.uiConfig={signInFlow:"popup",signInOptions:[p.a.auth.GoogleAuthProvider.PROVIDER_ID],callbacks:{signInSuccessWithAuthResult:function(){e.setState({userkey:p.a.auth().currentUser.uid,email:p.a.auth().currentUser.email,name:p.a.auth().currentUser.displayName}),f.a.post("".concat(v,"/adduser"),e.state).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}}},e}return Object(r.a)(a,[{key:"componentWillMount",value:function(){var e=this;this.unregisterAuthObserver=p.a.auth().onAuthStateChanged((function(t){return e.setState({isSignedIn:!!t,user:t},console.log(t))}))}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.isSignedIn?o.a.createElement("div",null,o.a.createElement(m.a,null,o.a.createElement(A,null),o.a.createElement(d.a,{user:this.state.user,path:"/",exact:!0,component:E}),o.a.createElement(d.a,{path:"/write",component:M}),o.a.createElement(d.a,{path:"/doc/:doc",component:B}))):o.a.createElement("div",{className:"text-center"},o.a.createElement(k.a,null),o.a.createElement(U.a,{uiConfig:this.uiConfig,firebaseAuth:p.a.auth()})))}}]),a}(n.Component);c.a.render(o.a.createElement(L,null),document.getElementById("root"))},66:function(e,t,a){}},[[163,1,2]]]);
//# sourceMappingURL=main.3bf8d1eb.chunk.js.map