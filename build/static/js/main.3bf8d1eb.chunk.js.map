{"version":3,"sources":["backend.js","views/main.js","components/firebaseui.js","components/modal.js","layout/navbar.js","views/write.js","views/doc.js","App.js","index.js"],"names":["API","process","Main","props","componentDidMount","setState","currentUser","firebase","auth","axios","post","then","response","console","log","data","docs","catch","err","componentWillMount","userkey","uid","user","upvoteUser","key","put","message","success","developer","readMore","state","className","src","this","photoURL","displayName","email","upvote","to","onClick","signOut","style","listStyleType","map","item","index","image","width","alt","title","dockey","Component","TextArea","Input","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","appId","storage","SignInScreen","isSignedIn","name","userdata","bio","locading","uiConfig","signInFlow","signInOptions","GoogleAuthProvider","PROVIDER_ID","callbacks","signInSuccessWithAuthResult","bioChange","e","target","value","bioSubmit","preventDefault","bioSaved","loading","content","setTimeout","duration","bioCancelled","warn","unregisterAuthObserver","onAuthStateChanged","rows","id","placeholder","onChange","firebaseAuth","React","ModalAuth","visible","showModal","handleOk","handleCancel","shape","size","icon","UserOutlined","okButtonProps","backgroundColor","border","onOk","onCancel","NavbarComponent","Upload","Dragger","Write","isUploading","progress","imageURL","body","posting","posted","handleChangeUsername","event","username","handleUploadStart","handleProgress","handleUploadError","error","handleUploadSuccess","filename","ref","child","getDownloadURL","url","handlePost","status","subTitle","fontSize","fontWeight","margin","autoSize","minRows","maxRows","accept","randomizeFilename","storageRef","onUploadStart","onUploadError","onUploadSuccess","onProgress","Doc","match","params","doc","path","App","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3bf8d1eb.chunk.js","sourcesContent":["export const API = process.env.REACT_APP_BACKEND","import React, { Component } from \"react\";\r\nimport \"../styles/main.css\";\r\nimport firebase from \"firebase\";\r\nimport axios from \"axios\";\r\nimport { API } from \"../backend\";\r\nimport { NavLink, Redirect } from \"react-router-dom\";\r\nimport {message} from \"antd\";\r\n\r\nclass Main extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            currentUser: \"\",\r\n            user: \"\",\r\n            docs: []\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        this.setState({\r\n            currentUser: firebase.auth().currentUser\r\n        })\r\n        axios.post(`${API}/getdocs`)\r\n        .then((response) => {\r\n            console.log(response.data)\r\n            this.setState({\r\n                docs: response.data\r\n            })\r\n        })\r\n        .catch((err) => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    componentWillMount = () => {\r\n        axios.post(`${API}/getuser`, {\r\n            userkey: firebase.auth().currentUser.uid\r\n        })\r\n        .then((response) => {\r\n            console.log(response)\r\n            this.setState({\r\n                user: response.data\r\n            })\r\n        })\r\n        .catch((err) => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    upvoteUser = (key) => {\r\n        axios.put(`${API}/upvoteuser`, {\r\n            userkey: key.userkey\r\n        })\r\n        .then((response) => {\r\n            console.log(response)\r\n            message.success(`You just upvoted ${key.developer}!`)\r\n        })\r\n        .catch((err) => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    readMore = (key) => {\r\n        console.log(\"Routing!\")\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"main container\">\r\n                <div className=\"row\">\r\n                    <div className=\"column right\">\r\n                        <img className=\"profile-image\" src={this.state.currentUser.photoURL} />\r\n                        <h5 className=\"pt-3\">👋 Hi, {this.state.currentUser.displayName}! ({this.state.currentUser.email} ✉️)</h5>\r\n                        <p>You got <span className=\"font-weight-bold\">{this.state.user.upvote} upvotes</span> 😀 by some awesome devs.</p>\r\n                        <div className=\"pt-3\">\r\n                        <button className=\"write-btn\"><NavLink className=\"text-dark\" to=\"/write\">Write 🖊️</NavLink></button>\r\n                        <button className=\"out-btn\" onClick={() => firebase.auth().signOut()}>Log Out 😱</button>\r\n                        </div>\r\n                        <div className=\"pt-3\" style={{listStyleType: \"none\"}}> \r\n                            <li>💬 Telegram</li>\r\n                            <li>📱 Instagram</li>\r\n                            <li>📺 Youtube</li>\r\n                            <li>🎙️ Podcast</li>                 \r\n                        </div>\r\n                    </div>\r\n                    <div className=\"column left\">\r\n                    <h2 className=\"posts\">POSTS</h2>\r\n                    {this.state.docs.map((item, index) => {\r\n                        return (\r\n                            <div className=\"\">\r\n                                <img src={item.image} width=\"200\" className=\"pt-3\" alt=\"\" />\r\n                                <h5>{item.title}</h5>\r\n                                <p><NavLink to={\"/doc/\" + item.dockey}>🔖 READ</NavLink></p>\r\n                                {/* <p><a className=\"font-weight-bold\" onClick={() => this.readMore(item.dockey)}>🔖 Read</a></p> */}\r\n                                <p><a className=\"font-weight-bold\" onClick={() => this.upvoteUser(item)}>💚 UPVOTE</a></p>\r\n                                <p>{item.developer}</p>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default Main;","import { Input, message, Spin } from 'antd';\r\nimport React from 'react';\r\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\r\nimport firebase from 'firebase';\r\nimport 'firebase/storage'\r\nimport axios from \"axios\";\r\nimport {API} from \"../backend\";\r\n\r\nconst key = 'updatable';\r\n\r\nconst { TextArea } = Input;\r\n\r\nconst config = {\r\n  apiKey: process.env.REACT_APP_APIKEY,\r\n  authDomain: process.env.REACT_APP_AUTHDOMAIN,\r\n  databaseURL: process.env.REACT_APP_DBURL,\r\n  projectId: process.env.REACT_APP_PROJECTID,\r\n  storageBucket: process.env.REACT_APP_STORAGEBUCKET,\r\n  appId: process.env.REACT_APP_APPID\r\n};\r\n\r\nfirebase.initializeApp(config);\r\n\r\nconst storage = firebase.storage()\r\n \r\nclass SignInScreen extends React.Component {\r\n\r\n  state = {\r\n    isSignedIn: false,\r\n    userkey: \"\",\r\n    email: \"\",\r\n    name: \"\",\r\n    userdata: [],\r\n    bio: \"\",\r\n    locading: false\r\n  };\r\n\r\n  uiConfig = {\r\n    signInFlow: 'popup',\r\n    signInOptions: [\r\n      firebase.auth.GoogleAuthProvider.PROVIDER_ID\r\n    ],\r\n    callbacks: {\r\n      signInSuccessWithAuthResult: () => {\r\n        this.setState({\r\n          userkey: firebase.auth().currentUser.uid,\r\n          email: firebase.auth().currentUser.email,\r\n          name: firebase.auth().currentUser.displayName\r\n        })\r\n        axios.post(`${API}/adduser`, this.state)\r\n        .then((response) => {\r\n          console.log(response)\r\n        })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({\r\n      locading: true\r\n    })\r\n    this.unregisterAuthObserver = firebase.auth().onAuthStateChanged(\r\n        (user) => this.setState({isSignedIn: !!user})\r\n    );\r\n    const userkey = firebase.auth().currentUser.uid\r\n    console.log(userkey)\r\n    console.log(this.state.userkey)\r\n    axios.post(`${API}/getuser`, {\r\n      \"userkey\": userkey\r\n    })\r\n    .then((response) => {\r\n      console.log(response.data)\r\n      this.setState({\r\n        userdata: response.data,\r\n        loading: false\r\n      })\r\n    })\r\n    .catch((err) => {\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.unregisterAuthObserver();\r\n  }\r\n\r\n  bioChange = (e) => {\r\n    this.setState({\r\n      bio: e.target.value\r\n    })\r\n  }\r\n\r\n  bioSubmit = (e) => {\r\n    e.preventDefault()\r\n    axios.put(`${API}/edituser`, this.state)\r\n    .then((response) => {\r\n      console.log(response)\r\n      this.bioSaved()\r\n    })\r\n    .catch((err) => {\r\n      console.log(err)\r\n    })\r\n  }\r\n\r\n  bioSaved = () => {\r\n    message.loading({ content: 'Saving Bio...', key });\r\n    setTimeout(() => {\r\n      message.success({ content: 'Bio Saved!', key, duration: 10 });\r\n    }, 1000);\r\n  };\r\n\r\n  bioCancelled = (e) => {\r\n    message.warn({ content: 'Bio unsaved!', key, duration: 10 });\r\n  }\r\n \r\n  render() {\r\n\r\n    if (!this.state.isSignedIn) {\r\n      return (\r\n        <div>\r\n          <StyledFirebaseAuth uiConfig={this.uiConfig} firebaseAuth={firebase.auth()}/>\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <div className=\"account-signedin\">\r\n        <img className=\"account-photo\" src={firebase.auth().currentUser.photoURL}/>\r\n        <div className=\"pt-3\">\r\n          {this.state.loading \r\n          ?\r\n          <Spin />\r\n          :\r\n          <div>\r\n          <p>➕ UPVOTEs - <span className=\"font-weight-bold\">{this.state.userdata.upvote}</span></p>\r\n          <TextArea rows=\"4\" id=\"bio\" name=\"bio\" placeholder=\"Your bio\" onChange={this.bioChange}/>\r\n          <a onClick={this.bioSubmit}>✅</a> <a onClick={this.bioCancelled}> ❌</a>\r\n          </div>\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SignInScreen;","import React from \"react\";\r\nimport 'antd/dist/antd.css';\r\nimport { Modal, Button } from 'antd';\r\nimport SignInScreen from \"./firebaseui\";\r\nimport { Avatar } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport firebase from \"firebase\";\r\n\r\nclass ModalAuth extends React.Component {\r\n  state = { visible: false };\r\n\r\n  showModal = () => {\r\n    this.setState({\r\n      visible: true,\r\n    });\r\n  };\r\n\r\n  handleOk = e => {\r\n    console.log(e);\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  };\r\n\r\n  handleCancel = e => {\r\n    console.log(e);\r\n    this.setState({\r\n      visible: false,\r\n    });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <a onClick={this.showModal}><Avatar shape=\"square\" size={\"large\"} icon={<UserOutlined />} /></a>\r\n        <Modal\r\n          title=\"🔒\"\r\n          okButtonProps={{style: {backgroundColor: \"#000000\", border: \"none\"}}}\r\n          visible={this.state.visible}\r\n          onOk={this.handleOk}\r\n          onCancel={this.handleCancel}\r\n        >\r\n          <SignInScreen />\r\n        </Modal>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ModalAuth;","import React, {Component} from \"react\";\r\nimport ModalAuth from \"../components/modal\";\r\nimport \"../styles/main.css\";\r\nimport firebase from \"firebase\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nclass NavbarComponent extends Component {\r\n    render(){\r\n        return (\r\n            <div>\r\n                <nav className=\"navbar navbar-expand-sm navbar-light\">\r\n                <NavLink to=\"/\"><img className=\"navbar-brand\" alt=\"\" src=\"https://firebasestorage.googleapis.com/v0/b/digvijay-web.appspot.com/o/slash.png?alt=media&token=8728f9f0-ef77-494f-ae33-00e2dab9565b\"/></NavLink>\r\n                <div className=\"ml-auto\">\r\n                    <ul className=\"navbar-nav ml-auto\">\r\n                    <li className=\"nav-item\">\r\n                        <ModalAuth />\r\n                    </li>\r\n                    </ul>\r\n                </div>\r\n                </nav>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default NavbarComponent;","import { Upload, message, Result, Spin } from 'antd';\r\nimport { Input } from 'antd';\r\nimport { InboxOutlined } from '@ant-design/icons';\r\nimport React, { Component } from \"react\";\r\nimport \"../styles/main.css\";\r\nimport firebase from \"firebase\";\r\nimport { NavLink } from 'react-router-dom';\r\nimport FileUploader from \"react-firebase-file-uploader\";\r\nimport axios from \"axios\";\r\nimport {API} from \"../backend\";\r\n\r\nconst { Dragger } = Upload;\r\n\r\nconst { TextArea } = Input;\r\n\r\nclass Write extends Component {\r\n    state = {\r\n        image: \"\",\r\n        isUploading: false,\r\n        progress: 0,\r\n        imageURL: \"\",\r\n        title: \"\",\r\n        developer: \"\",\r\n        body: \"\",\r\n        userkey: \"\",\r\n        posting: false,\r\n        posted: false\r\n      };\r\n\r\n      componentDidMount = () => {\r\n        const user = firebase.auth().currentUser\r\n        this.setState({\r\n            developer: user.displayName,\r\n            userkey: user.uid\r\n        })\r\n      }\r\n     \r\n      handleChangeUsername = event =>\r\n        this.setState({ username: event.target.value });\r\n      handleUploadStart = () => this.setState({ isUploading: true, progress: 0 });\r\n      handleProgress = progress => this.setState({ progress });\r\n      handleUploadError = error => {\r\n        this.setState({ isUploading: false });\r\n        console.error(error);\r\n      };\r\n      handleUploadSuccess = filename => {\r\n        this.setState({ image: filename, progress: 100, isUploading: false });\r\n        firebase\r\n          .storage()\r\n          .ref(\"images\")\r\n          .child(filename)\r\n          .getDownloadURL()\r\n          .then(url => this.setState({ imageURL: url }));\r\n      };\r\n     \r\n    handlePost = (e) => {\r\n        e.preventDefault()\r\n        this.setState({\r\n            posting: true\r\n        })\r\n        axios.post(`${API}/adddoc`, {\r\n            title: this.state.title,\r\n            body: this.state.body,\r\n            image: this.state.imageURL,\r\n            developer: this.state.developer,\r\n            userkey: this.state.userkey\r\n        })\r\n        .then((response) => {\r\n            console.log(response)\r\n            this.setState({\r\n                posting: false,\r\n                posted: true\r\n            })\r\n        })\r\n        .catch((err) => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({\r\n            [e.target.id]: e.target.value\r\n        })\r\n    };\r\n\r\n    success = () => {\r\n        message.success('Posted a new doc!');\r\n    };\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"write\">\r\n                {this.state.posting ? <Spin /> : <div></div>}\r\n                {this.state.posted ? <div>\r\n                    <Result\r\n                        status=\"success\"\r\n                        title=\"New doc posted!\"\r\n                        subTitle=\"Quick Tip: Keep an eye on your posts and engage with people in the comments.\"\r\n                    />\r\n                </div> : <div></div>}\r\n              <h5><NavLink to=\"/\">❌</NavLink></h5>\r\n                <TextArea id=\"title\" onChange={this.onChange} style={{fontSize: 20, fontWeight: \"bold\"}} placeholder=\"Title Goes Here!\" />\r\n                <div style={{ margin: '24px 0' }} />\r\n                <TextArea\r\n                id=\"body\"\r\n                onChange={this.onChange}\r\n                placeholder=\"What you are upto today?\"\r\n                autoSize={{ minRows: 10, maxRows: 50 }}\r\n                />\r\n\r\n                <form className=\"pt-4\">\r\n                {this.state.isUploading && <div className=\"text-center\"><Spin /></div>}\r\n                <FileUploader\r\n                    accept=\"image/*\"\r\n                    name=\"avatar\"\r\n                    randomizeFilename\r\n                    storageRef={firebase.storage().ref(\"images\")}\r\n                    onUploadStart={this.handleUploadStart}\r\n                    onUploadError={this.handleUploadError}\r\n                    onUploadSuccess={this.handleUploadSuccess}\r\n                    onProgress={this.handleProgress}\r\n                />\r\n                </form>\r\n                <button className=\"mt-3\" onClick={this.handlePost}>POST</button>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default Write;","import React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\nimport { API } from \"../backend\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\nclass Doc extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n            path: \"\",\r\n            doc: []\r\n        }\r\n    }\r\n\r\n    componentDidMount = () => {\r\n        axios.post(`${API}/docbyid`, {\r\n            dockey: this.props.match.params.doc\r\n        })\r\n        .then((response) => {\r\n            this.setState({\r\n                doc: response.data\r\n            })\r\n        })\r\n        .catch((err) => {\r\n            console.log(err)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"doc\">\r\n                <NavLink to=\"/\"><p>⬅️ BROWSE</p></NavLink>\r\n                <h1 className=\"doc-title\">{this.state.doc.title}</h1>\r\n                <h5>{this.state.doc.developer}</h5>\r\n                <div className=\"text-center\">\r\n                    <img src={this.state.doc.image} className=\"doc-image\" alt=\"\" />\r\n                </div>\r\n                <p>{this.state.doc.body}</p>\r\n            </div>\r\n        )\r\n    }\r\n};\r\n\r\nexport default Doc;","import React, {Component} from 'react';\nimport {BrowserRouter, Route} from \"react-router-dom\";\nimport Main from './views/main';\nimport \"./styles/main.css\";\nimport firebase from 'firebase';\nimport NavbarComponent from './layout/navbar';\nimport axios from \"axios\";\nimport StyledFirebaseAuth from 'react-firebaseui/StyledFirebaseAuth';\nimport {API} from \"./backend\";\nimport { Spin } from 'antd';\nimport Write from './views/write';\nimport Doc from './views/doc';\n\nconst config = {\n  apiKey: process.env.REACT_APP_APIKEY,\n  authDomain: process.env.REACT_APP_AUTHDOMAIN,\n};\n\nclass App extends Component {\n  state = {\n    isSignedIn: false,\n    user: \"\"\n  };\n\n  componentWillMount() {\n    this.unregisterAuthObserver = firebase.auth().onAuthStateChanged(\n        (user) => this.setState({isSignedIn: !!user, user: user}, console.log(user))\n    );\n  }\n\n  uiConfig = {\n    signInFlow: 'popup',\n    signInOptions: [\n      firebase.auth.GoogleAuthProvider.PROVIDER_ID\n    ],\n    callbacks: {\n      signInSuccessWithAuthResult: () => {\n        this.setState({\n          userkey: firebase.auth().currentUser.uid,\n          email: firebase.auth().currentUser.email,\n          name: firebase.auth().currentUser.displayName\n        })\n        axios.post(`${API}/adduser`, this.state)\n        .then((response) => {\n          console.log(response)\n        })\n        .catch((err) => {\n          console.log(err)\n        })\n      }\n    }\n  };\n  render(){\n    return (\n      <div>\n        {this.state.isSignedIn ? \n      <div>\n        <BrowserRouter>\n          <NavbarComponent />\n          <Route user={this.state.user} path=\"/\" exact component={Main} />\n          <Route path=\"/write\" component={Write} />\n          <Route path=\"/doc/:doc\" component={Doc} />\n        </BrowserRouter>\n      </div>\n      :\n      <div className=\"text-center\">\n        {/* <img src=\"https://firebasestorage.googleapis.com/v0/b/slash-co.appspot.com/o/undraw_coding_6mjf%20(1).png?alt=media&token=166c4c20-dd99-420c-8a4e-f3fec4296da1\" className=\"main-image\" alt=\"\" /> */}\n        <Spin />\n        <StyledFirebaseAuth uiConfig={this.uiConfig} firebaseAuth={firebase.auth()}/>\n      </div>\n    }\n      </div>\n    )\n  }\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}